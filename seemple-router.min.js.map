{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/typeof.js","webpack:///../seemple/src/trigger/_triggerone.js","webpack:///../seemple/src/_helpers/foreach.js","webpack:///../seemple/src/_core/defs.js","webpack:///../seemple/src/_helpers/forown.js","webpack:///../seemple/src/_helpers/seempleerror.js","webpack:///../seemple/src/on/_addlistener.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///../seemple/src/_helpers/checkobjecttype.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///../seemple/src/_helpers/is.js","webpack:///../seemple/src/set.js","webpack:///../seemple/src/_helpers/apply.js","webpack:///../seemple/src/off/_undelegatelistener.js","webpack:///../seemple/src/on/_delegatelistener/arrayaddhandler.js","webpack:///../seemple/src/on/_delegatelistener/objectsethandler.js","webpack:///../seemple/src/on/_delegatelistener/arrayremovehandler.js","webpack:///../seemple/src/on/_delegatelistener/objectremovehandler.js","webpack:///../seemple/src/on/_delegatelistener/changehandler.js","webpack:///../seemple/src/on/_delegatelistener/index.js","webpack:///../seemple/src/_helpers/assign.js","webpack:///../seemple/src/_core/init.js","webpack:///../seemple/src/_core/defineprop.js","webpack:///../seemple/src/on/_domeventregexp.js","webpack:///../seemple/src/on/index.js","webpack:///../seemple/src/off/_removelistener.js","webpack:///../seemple/src/_dom/mq/_html2nodelist.js","webpack:///../seemple/src/_dom/mq/_init.js","webpack:///../seemple/src/_dom/mq/_data.js","webpack:///../seemple/src/_dom/mq/on.js","webpack:///../seemple/src/_dom/mq/off.js","webpack:///../seemple/src/_dom/mq/index.js","webpack:///../seemple/src/_dom/mq/parsehtml.js","webpack:///../seemple/src/_dom/mq/add.js","webpack:///../seemple/src/_dom/default-dollar.js","webpack:///../seemple/src/_dom/index.js","webpack:///../seemple/src/_helpers/debounce.js","webpack:///../seemple/src/on/_splitbyspaceregexp.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/router.js","webpack:///../seemple/src/ondebounce.js","webpack:///../seemple/src/on/_addtreelistener.js","webpack:///../seemple/src/off/_removetreelistener.js","webpack:///../seemple/src/calc/_addsource.js","webpack:///../seemple/src/_helpers/deepfind.js","webpack:///../seemple/src/calc/index.js","webpack:///../seemple/src/calc/_createcalchandler.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/createClass.js","webpack:///../seemple/src/trigger/_triggeronedomevent.js","webpack:///../seemple/src/trigger/_triggerdomevent.js","webpack:///../seemple/src/trigger/index.js","webpack:///./src/index.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:////Users/finom/Work/matreshka/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///../seemple/src/off/_removedomlistener.js","webpack:///../seemple/src/on/_adddomlistener.js","webpack:///../seemple/src/on/_createdomeventhandler.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof","obj","iterator","constructor","triggerOne","triggerArgs","def","defs","events","length","Array","event","latestEvent","callback","ctx","apply","info","forEach","arr","PseudoMap","assign","seempleData","set","data","writable","configurable","has","WeakMap","forOwn","keys","arrayErrorPrefix","getTypeError","variable","variableName","expectedType","getType","errors","method","node","selectorInfo","missing","$nodes","target","sourceKey","sourceObject","source","Model","selector","toRemove","names","seempleError","getError","Error","propModEventReg","addListener","context","initSeemple","allEvents","skipChecks","domEventExecResult","domEventReg","exec","eventName","addDomListener","require","existingEvent","argCallback","_callback","eventCallback","push","test","defineProp","replace","arrayWithHoles","iterableToArrayLimit","nonIterableRest","checkObjectType","typeofObject","is","v1","v2","eventOptions","this","isSeemple","objVal","objKey","props","propDef","newValue","previousValue","mediator","skipMediator","fromMediator","force","forceHTML","silent","silentHTML","skipCalc","isChanged","extendedEventOptions","self","triggerChange","beforechangeEventName","changeBindingsEventName","changeEventName","changeDepsEventName","changeDelegatedKeyEventName","changeTreeEventName","changeCommonEventName","func","args","undefined","detatchDelegatedLogic","delegatedEventName","pathStr","retain","undelegateListener","givenPath","path","split","slice","join","isSeempleArray","delegatedAddEvtName","delegatedRemoveEvtName","item","isSeempleObject","delegatedSetEvtName","each","delegatedChangeEvtName","removeListener","arrayAddHandler","added","delegatedData","delegateListener","objectSetHandler","arrayRemoveHandler","removed","objectRemoveHandler","changeHandler","_","defKey","TypeError","output","index","arguments","nextValue","nextKey","objectId","id","_afterInit","errorAccessor","noAccessor","setter","bindings","v","fromSetter","on","givenNames","triggerOnInit","isNamesVarArray","namesObjCallback","namesObjName","splitBySpaceReg","delegatedEventParts","delegatedName","noTrigger","removeDomListener","allEventsItem","allEventsName","removeEventData","html2nodeList","givenHTML","wrapMap","option","legend","thead","tr","td","col","area","html","document","createElement","optgroup","tbody","tfoot","colgroup","caption","th","ex","wrapper","innerHTML","children","childNodes","win","MQInit","result","nodeType","newContext","querySelectorAll","nodeIndex","splitByDotReg","randomID","Math","random","toString","delegateHandler","evt","handler","scopeSelector","splittedSelector","matching","sel","setAttribute","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","removeAttribute","mq","Init","parseHTML","namesStr","delegate","namespace","j","nodeID","b$","exist","k","addEventListener","off","removeEventListener","splice","add","idMap","nodes","neededMethods","globalDollar","$","useGlobalDollar","fn","debounce","givenDelay","thisArg","timeout","delay","callContext","clearTimeout","setTimeout","originalModule","webpackPolyfill","handleHashChange","router","location","hash","hashEvent","handlePopStateChange","pathname","popEvent","Router","type","initialized","calc","parts","fixed","nonEmptyParts","debounceCalc","hashPath","equals","trigger","history","onDebounce","state","validPush","pushState","route","changeEvents","filteredKeys","filter","init","routeSilent","values","givenCallback","createTreeListener","restPath","newHandler","changeEvent","extendedChangeEvent","deepPath","listenedPath","removeTreeListener","addTreeListener","listenPath","addSource","calcHandler","allSources","exactKey","isDelegated","deepFind","paths","current","sources","givenHandler","itemTarget","itemSource","itemHandler","itemEventOptions","commonEventOptions","mergedEventOptions","debouncedCalcHandler","setOnInit","debounceCalcOnInit","debounceCalcDelay","isTargetPropertyHidden","syncCalcHandler","protector","protectKey","promiseCalc","setEventOptions","targetValue","Promise","resolve","then","promiseResult","e","createCalcHandler","sourceKeyItem","instance","Constructor","_defineProperties","descriptor","protoProps","staticProps","triggerOneDOMEvent","Event","createEvent","initEvent","bubbles","cancelable","seempleTriggerArgs","dispatchEvent","triggerDOMEvent","descendants","descendant","domEvtExecResult","triggerDomEvent","initRouter","subscribe","Seemple","isArray","_arr","_n","_d","_e","_s","_i","next","done","err","eventNamespace","binding","dom","domEventHandler","domEvent","originalEvent","which","ctrlKey","altKey","preventDefault","stopPropagation","createDomEventHandler","fullEventName","bindHandler","unbindHandler","createBindingHandlers","addBindListenerResult","addUnbindListenerResult"],"mappings":"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","file":"seemple-router.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 30);\n","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import defs from '../_core/defs';\nimport apply from '../_helpers/apply';\n\n// triggers one event\nexport default function triggerOne(object, name, triggerArgs) {\n    const def = defs.get(object);\n    const events = def && def.events[name];\n\n    if (events) {\n        const l = events.length;\n        let i = 0;\n\n        // allow to pass both array of args and single arg as triggerArgs\n        if (triggerArgs instanceof Array) {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback, ctx } = event;\n                apply(callback, ctx, triggerArgs);\n                i += 1;\n            }\n        } else {\n            while (i < l) {\n                const event = triggerOne.latestEvent = events[i];\n                const { callback, ctx } = event;\n                callback.call(ctx, triggerArgs);\n                i += 1;\n            }\n        }\n    }\n}\n\n// latestEvent is used as required hack in somemethods\ntriggerOne.latestEvent = {\n    info: {},\n    name: null\n};\n","export default function forEach(arr, callback) {\n    let i = 0;\n    const l = arr.length;\n\n    for (; i < l; i++) {\n        callback(arr[i], i);\n    }\n}\n","import assign from '../_helpers/assign';\n\nfunction PseudoMap() {}\n\n// PseudoMap simulates WeakMap behavior with O(1) search complexity\n// it's needed to support @IE9 and @IE10\nassign(PseudoMap.prototype, {\n    get(obj) {\n        return obj.seempleData;\n    },\n    set(obj, data) {\n        Object.defineProperty(obj, 'seempleData', {\n            value: data,\n            enumerable: false,\n            writable: false,\n            configurable: false\n        });\n    },\n    has(obj) {\n        return 'seempleData' in obj;\n    }\n});\n\nexport default typeof WeakMap === 'undefined' ? new PseudoMap() : new WeakMap();\n","export default function forOwn(obj, callback) {\n    const keys = Object.keys(obj);\n    const l = keys.length;\n    let i = 0;\n    let key;\n\n    while (i < l) {\n        key = keys[i++];\n        callback(obj[key], key);\n    }\n}\n","/* eslint-disable prefer-template, max-len */\nconst bindingErrorPrefix = 'Binding error:';\nconst calcErrorPrefix = 'Calc error:';\nconst eventsErrorPrefix = 'Events error:';\nconst arrayErrorPrefix = 'Seemple.Array error:';\n\nconst getType = (variable) => {\n    if (variable === null) {\n        return 'null';\n    }\n\n    return typeof variable;\n};\nconst getTypeError = (variable, variableName, expectedType) => `${variableName} must have type \"${expectedType}\" but got \"${getType(variable)}\" instead.`;\n\nconst errors = {\n    'common:object_type': ({ object, method }) => `Error in ${method}: `\n        + getTypeError(object, 'object', 'object'),\n    'common:call_class': () => 'Cannot call a class as a function',\n    'common:use_magic_props': () => '\"sandbox\" key (for all objects) and \"container\" key (for Seemple.Array instances)'\n        + ' are reserved for service use and cannot be used as usual properties',\n\n    'binding:node_missing': ({ key, node }) => {\n        const selectorInfo = typeof node === 'string' ? ` (given selector is \"${node}\")` : '';\n        return `${bindingErrorPrefix} node is missing for key \"${key}\"${selectorInfo}.`;\n    },\n    'binding:falsy_key': () => `${bindingErrorPrefix} \"key\" arg cannot be falsy`,\n    'binding:instance_nodes_missing': ({ $nodes }) => {\n        const missing = !$nodes ? '$nodes' : 'nodes';\n        return `${bindingErrorPrefix} \"${missing}\" property of Seemple instance is missing.`\n            + ' It must be an object and must not be reassigned.';\n    },\n    'binding:magic_props_nodes_length': () => `${bindingErrorPrefix} \"sandbox\" key (for all objects) and \"container\" key`\n        + ' (for Seemple.Array instances) cannot have more than one bound node',\n\n    'calc:target_type': ({ target }) => `${calcErrorPrefix} ${getTypeError(target, 'target key', 'string')}`,\n    'calc:source_key_type': ({ sourceKey }) => `${calcErrorPrefix} ${getTypeError(sourceKey, 'source key', 'string')}`,\n    'calc:source_object_type': ({ sourceObject }) => `${calcErrorPrefix} ${getTypeError(sourceObject, 'source object', 'object')}`,\n    'calc:source_type': ({ source }) => `${calcErrorPrefix} ${getTypeError(source, 'source', 'object')}`,\n\n    'array:model_type': ({ Model }) => `${arrayErrorPrefix} ${getTypeError(Model, 'Model', 'function')}`,\n    'array:add_render_twice': () => `${arrayErrorPrefix} one rendered object was inserted twice.`,\n    'array:rendered_number_nodes': ({ length }) => `${arrayErrorPrefix} renderer returned ${length} nodes instead of one.`\n        + ` ${length > 0 ? 'To fix this wrap these nodes by single node.' : ''}`,\n    'array:renderer_node_missing': ({ selector }) => `${arrayErrorPrefix} renderer node is missing (given selector is \"${selector}\")`,\n    'array:nonexistent_method': ({ method }) => `${arrayErrorPrefix} Array.prototype.${method} doesn't exist.`\n            + ' You need to include a polyfill for it (e. g. babel-node)',\n    'array:method_compat_renderer': ({ method }) => `${arrayErrorPrefix} Not possible to render when ${method} method is called`,\n\n    'pull:to_remove_type': ({ toRemove }) => `Error in pull: ${getTypeError(toRemove, 'toRemove', 'number')}`,\n\n    'restore:no_nodes': () => `${arrayErrorPrefix} cannot find any container to restore an instance using \"restore\" method`,\n\n    'trigger:names_type': ({ names }) => `${eventsErrorPrefix} ${getTypeError(names, 'event name', 'string')}`,\n\n    'on:names_type': ({ names }) => errors['trigger:names_type']({ names }),\n\n    'removedatakeys:key_type': ({ key }) => `Error in removeDataKeys: ${getTypeError(key, 'key', 'string')}`,\n\n    'adddatakeys:key_type': ({ key }) => `Error in addDataKeys: ${getTypeError(key, 'key', 'string')}`,\n\n    'remove:key_type': ({ key }) => `Error in remove: ${getTypeError(key, 'key', 'string')}`,\n\n    'mediate:key_type': ({ key }) => `Error in mediate: ${getTypeError(key, 'key', 'string')}`\n};\n\nexport default function seempleError(key, data) {\n    const getError = errors[key];\n    if (!getError) {\n        throw Error(`Unknown error \"${key}\". Please report about this on Github.`);\n    }\n\n    return new Error(getError(data));\n}\n","import initSeemple from '../_core/init';\nimport triggerOne from '../trigger/_triggerone';\nimport defineProp from '../_core/defineprop';\nimport domEventReg from './_domeventregexp';\n\n// property modifier event regexp\nconst propModEventReg = /^_change:deps:|^_change:bindings:|^_change:delegated:|^_change:common:|^_change:tree:|^change:|^beforechange:/;\n\n// adds simple event listener\n// used as core of event engine\nexport default function addListener(object, name, callback, context, info = {}) {\n    const { events: allEvents } = initSeemple(object);\n    const ctx = context || object;\n    const events = allEvents[name];\n    const event = {\n        callback, context, ctx, name, info\n    };\n    // skipChecks is used by internal methods for better performance\n    const { skipChecks = false } = info;\n\n    if (!skipChecks) {\n        const domEventExecResult = domEventReg.exec(name);\n\n        if (domEventExecResult) {\n            const [, eventName, key = 'sandbox', selector] = domEventExecResult;\n            // fixing circular reference issue\n            const addDomListener = require('./_adddomlistener').default;\n\n            addDomListener(object, key, eventName, selector, callback, context, info);\n\n            return true;\n        }\n    }\n\n    // if there are events with the same name\n    if (events) {\n        if (!skipChecks) {\n            // if there are events with the same data, return false\n            for (let i = 0; i < events.length; i++) {\n                const existingEvent = events[i];\n                const argCallback = (callback && callback._callback) || callback;\n                const eventCallback = existingEvent.callback._callback || existingEvent.callback;\n                if (argCallback === eventCallback && existingEvent.context === context) {\n                    return false;\n                }\n            }\n        }\n\n        // if the event isn't found add it to the event list\n        events.push(event);\n    } else {\n        // if there are no events with the same name, create an array with only  one event\n        allEvents[name] = [event];\n    }\n\n    if (propModEventReg.test(name)) {\n        // define needed accessors for KEY\n        defineProp(object, name.replace(propModEventReg, ''));\n    }\n\n    // names prefixed by underscore mean \"private\" events\n    if (!skipChecks && name[0] !== '_') {\n        triggerOne(object, `addevent:${name}`, event);\n        triggerOne(object, 'addevent', event);\n    }\n\n    // if event is added successfully return true\n    return true;\n}\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","import seempleError from './seempleerror';\n\n// checks type of a variable and throws an error if its type is not an object\nexport default function checkObjectType(object, method) {\n    const typeofObject = object === null ? 'null' : typeof object;\n\n    if (typeofObject !== 'object' && typeofObject !== 'function') {\n        throw seempleError('common:object_type', {\n            object,\n            method\n        });\n    }\n}\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","// determines whether two values are the same value\n/* istanbul ignore next */\n// eslint-disable-next-line\nconst isPolyfill = (v1, v2) => v1 === 0 && v2 === 0 ? 1 / v1 === 1 / v2 : v1 !== v1 && v2 !== v2 || v1 === v2;\n\nexport default Object.is || isPolyfill;\n","import defs from './_core/defs';\nimport triggerOne from './trigger/_triggerone';\nimport checkObjectType from './_helpers/checkobjecttype';\nimport is from './_helpers/is';\nimport forOwn from './_helpers/forown';\n\n// the function sets new value for a property\n// since its performance is very critical we're checking events existence manually\nexport default function set(object, key, value, eventOptions) {\n    if (typeof this === 'object' && this.isSeemple) {\n        // when context is Seemple instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        eventOptions = value;\n        value = key;\n        key = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'set');\n    }\n\n    // if no key or falsy key is given\n    if (!key) {\n        return object;\n    }\n\n    // allow to use key-value object as another method variation\n    if (typeof key === 'object') {\n        forOwn(key, (objVal, objKey) => set(object, objKey, objVal, value));\n        return object;\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    const def = defs.get(object);\n\n    // if no object definition then make simple assignment\n    if (!def) {\n        object[key] = value;\n        return object;\n    }\n\n    const { props, events } = def;\n    const propDef = props[key];\n\n    // if no property definition then make simple assignment\n    if (!propDef) {\n        object[key] = value;\n        return object;\n    }\n\n    const { value: previousValue, mediator } = propDef;\n\n    // possible flags, all of them are falsy by default\n    const {\n        skipMediator,\n        fromMediator,\n        force,\n        forceHTML,\n        silent,\n        silentHTML,\n        skipCalc\n    } = eventOptions;\n\n    let newValue;\n\n    if (mediator && !is(value, previousValue) && !skipMediator && !fromMediator) {\n        newValue = mediator(value);\n    } else {\n        newValue = value;\n    }\n\n    const isChanged = !is(newValue, previousValue);\n\n    // add to eventOptions object some useful properties\n    // we override default eventOptions because some of the properties need to have actual values,\n    // not inherited ones (eg when calc is used)\n    const extendedEventOptions = {\n        ...eventOptions,\n        value: newValue,\n        self: object,\n        previousValue,\n        key,\n        isChanged\n    };\n\n    const triggerChange = (isChanged || force) && !silent;\n\n    // trigger beforechange:KEY and beforechange events\n    if (triggerChange) {\n        const beforechangeStr = 'beforechange';\n        const beforechangeEventName = `${beforechangeStr}:${key}`;\n\n        if (events[beforechangeEventName]) {\n            triggerOne(object, beforechangeEventName, extendedEventOptions);\n        }\n\n        if (events[beforechangeStr]) {\n            triggerOne(object, beforechangeStr, extendedEventOptions);\n        }\n    }\n\n    propDef.value = newValue;\n\n    // triger bindings\n    if (!silentHTML && (isChanged || forceHTML)) {\n        const changeBindingsEventName = `_change:bindings:${key}`;\n        if (events[changeBindingsEventName]) {\n            triggerOne(object, changeBindingsEventName, extendedEventOptions);\n        }\n    }\n\n    // trigger change:KEY and change events\n    if (triggerChange) {\n        const changeStr = 'change';\n        const changeEventName = `${changeStr}:${key}`;\n        if (events[changeEventName]) {\n            triggerOne(object, changeEventName, extendedEventOptions);\n        }\n\n        if (events[changeStr]) {\n            triggerOne(object, changeStr, extendedEventOptions);\n        }\n    }\n\n    // trigger dependencies made by calc method\n    if ((isChanged || force) && !skipCalc) {\n        const changeDepsEventName = `_change:deps:${key}`;\n        if (events[changeDepsEventName]) {\n            triggerOne(object, changeDepsEventName, extendedEventOptions);\n        }\n    }\n\n\n    if (isChanged) {\n        // trigger common delegated events logic\n        const changeDelegatedKeyEventName = `_change:delegated:${key}`;\n        if (events[changeDelegatedKeyEventName]) {\n            triggerOne(object, changeDelegatedKeyEventName, extendedEventOptions);\n        }\n\n        // trigger tree change events logic\n        const changeTreeEventName = `_change:tree:${key}`;\n        if (events[changeTreeEventName]) {\n            triggerOne(object, changeTreeEventName, extendedEventOptions);\n        }\n\n        // trigger other internal change events\n        const changeCommonEventName = `_change:common:${key}`;\n        if (events[changeCommonEventName]) {\n            triggerOne(object, changeCommonEventName, extendedEventOptions);\n        }\n\n        // trigger delegated logic for asterisk events (*.*.*@foo)\n        // TODO: Confusing events names (\"_change:delegated\", \"_change:common:KEY\" etc)\n        const changeDelegatedEventName = '_change:delegated';\n        if (events[changeDelegatedEventName]) {\n            triggerOne(object, changeDelegatedEventName, extendedEventOptions);\n        }\n    }\n\n    return object;\n}\n","export default function apply(func, context, args) {\n    if (context) {\n        switch (args.length) {\n            case 0:\n                return func.call(context);\n            case 1:\n                return func.call(context, args[0]);\n            case 2:\n                return func.call(context, args[0], args[1]);\n            case 3:\n                return func.call(context, args[0], args[1], args[2]);\n            case 4:\n                return func.call(context, args[0], args[1], args[2], args[3]);\n            default:\n                return func.apply(context, args); // eslint-disable-line prefer-spread\n        }\n    }\n\n    switch (args.length) {\n        case 0:\n            return func();\n        case 1:\n            return func(args[0]);\n        case 2:\n            return func(args[0], args[1]);\n        case 3:\n            return func(args[0], args[1], args[2]);\n        case 4:\n            return func(args[0], args[1], args[2], args[3]);\n        default:\n            return func.apply(undefined, args); // eslint-disable-line prefer-spread\n    }\n}\n","import defs from '../_core/defs';\nimport removeListener from './_removelistener';\nimport forEach from '../_helpers/foreach';\n\n// the function removes internally used events such as _asterisk:add\nfunction detatchDelegatedLogic({\n    delegatedEventName,\n    pathStr,\n    allEvents\n}) {\n    const retain = [];\n    const events = allEvents[delegatedEventName];\n\n    forEach(events, (event) => {\n        // pathStr is assigned to info in delegateListener\n        if (event.info.pathStr !== pathStr) {\n            retain.push(event);\n        }\n    });\n\n    if (retain.length) {\n        allEvents[delegatedEventName] = retain;\n    } else {\n        delete allEvents[delegatedEventName];\n    }\n}\n\n// removes delegated event listener from an object by given path\nexport default function undelegateListener(object, givenPath, name, callback, context, info = {}) {\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return;\n    }\n\n    const { events: allEvents } = def;\n\n    let path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then remove listener\n        removeListener(object, name, callback, context, info);\n    } else {\n        // else do all magic\n        const key = path[0];\n        let pathStr;\n\n        if (path.length > 1) {\n            path = path.slice(1);\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n        if (key === '*') {\n            // remove asterisk events\n            if (object.isSeempleArray) {\n                const delegatedAddEvtName = '_asterisk:add';\n                if (allEvents[delegatedAddEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedAddEvtName,\n                        pathStr,\n                        allEvents\n                    });\n                }\n\n                const delegatedRemoveEvtName = '_asterisk:remove';\n                if (allEvents[delegatedRemoveEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedRemoveEvtName,\n                        pathStr,\n                        allEvents\n                    });\n                }\n\n                // undelegate asterisk events for existing items\n                if (object.length) {\n                    forEach(object, (item) => {\n                        if (item && typeof item === 'object') {\n                            undelegateListener(item, path, name, callback, context, info);\n                        }\n                    });\n                }\n            } else if (object.isSeempleObject) {\n                const delegatedSetEvtName = '_asterisk:set';\n                if (allEvents[delegatedSetEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedSetEvtName,\n                        pathStr,\n                        allEvents\n                    });\n                }\n\n                const delegatedRemoveEvtName = '_asterisk:remove';\n                if (allEvents[delegatedRemoveEvtName]) {\n                    detatchDelegatedLogic({\n                        delegatedEventName: delegatedRemoveEvtName,\n                        pathStr,\n                        allEvents\n                    });\n                }\n\n                object.each((item) => {\n                    if (item && typeof item === 'object') {\n                        undelegateListener(item, path, name, callback, context, info);\n                    }\n                });\n            }\n        } else {\n            // remove non-asterisk delegated events\n\n            const delegatedChangeEvtName = `_change:delegated:${key}`;\n            if (allEvents[delegatedChangeEvtName]) {\n                detatchDelegatedLogic({\n                    delegatedEventName: delegatedChangeEvtName,\n                    pathStr,\n                    allEvents\n                });\n            }\n\n            if (typeof object[key] === 'object') {\n                undelegateListener(object[key], path, name, callback, context, info);\n            }\n        }\n    }\n}\n","import triggerOne from '../../trigger/_triggerone';\nimport forEach from '../../_helpers/foreach';\n\n\n// the function is called when something is added to an array\n// it delegates asterisk listener for newly added items\nexport default function arrayAddHandler({ added }, {\n    path,\n    name,\n    callback,\n    context,\n    info\n} = triggerOne.latestEvent.info.delegatedData) {\n    forEach(added, (item) => {\n        if (item && typeof item === 'object') {\n            const delegateListener = require('./').default; // fixing circular ref\n\n            delegateListener(item, path, name, callback, context, info);\n        }\n    });\n}\n","import triggerOne from '../../trigger/_triggerone';\nimport defs from '../../_core/defs';\n\n// the function is called when data property is changed in Seemple.Object\n// it delegates asterisk listener for new value\nexport default function objectSetHandler({ key }, {\n    path,\n    name,\n    callback,\n    context,\n    info,\n    object\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (key) {\n        const item = object[key];\n\n        if (item && typeof item === 'object') {\n            const def = defs.get(object);\n            if (key in def.keys) {\n                const delegateListener = require('./').default; // fixing circular ref\n\n                delegateListener(item, path, name, callback, context, info);\n            }\n        }\n    }\n}\n","import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\nimport forEach from '../../_helpers/foreach';\n\n\n// the function is called when something is removed from an array\n// it undelegates asterisk listener from removed items\nexport default function arrayRemoveHandler({ removed }, {\n    path,\n    name,\n    callback,\n    context,\n    info\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (removed && removed.length) {\n        forEach(removed, (item) => {\n            if (item && typeof item === 'object') {\n                undelegateListener(item, path, name, callback, context, info);\n            }\n        });\n    }\n}\n","import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\n\n// the function is called when data property is removed from Seemple.Object\n// it undelegates asterisk listener from removed object\nexport default function objectRemoveHandler({ value: item }, {\n    path,\n    name,\n    callback,\n    context,\n    info\n    // , object\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (item && typeof item === 'object') {\n        undelegateListener(item, path, name, callback, context, info);\n    }\n}\n","import undelegateListener from '../../off/_undelegatelistener';\nimport triggerOne from '../../trigger/_triggerone';\n\n// the function is called when some part of a path is changed\n// it delegates event listener for new branch of an object and undelegates it for old one\n// used for non-asterisk events\nexport default function changeHandler({\n    previousValue,\n    value\n}, {\n    path,\n    name,\n    callback,\n    context,\n    info\n} = triggerOne.latestEvent.info.delegatedData) {\n    if (value && typeof value === 'object') {\n        const delegateListener = require('./').default; // fixing circular ref\n\n        delegateListener(value, path, name, callback, context, info);\n    }\n\n    if (previousValue && typeof previousValue === 'object') {\n        undelegateListener(previousValue, path, name, callback, context, info);\n    }\n}\n","import addListener from '../_addlistener';\nimport defs from '../../_core/defs';\nimport arrayAddHandler from './arrayaddhandler';\nimport objectSetHandler from './objectsethandler';\nimport arrayRemoveHandler from './arrayremovehandler';\nimport objectRemoveHandler from './objectremovehandler';\nimport changeHandler from './changehandler';\nimport forOwn from '../../_helpers/forown';\n\n// adds delegated event listener to an object by given path\nexport default function delegateListener(object, givenPath, name, callback, context, info = {}) {\n    // if typeof path is string and path is not empty string then split it\n    let path = typeof givenPath === 'string' && givenPath !== '' ? givenPath.split('.') : givenPath;\n\n    if (!path || !path.length) {\n        // if no path then add simple listener\n        addListener(object, name, callback, context, info);\n    } else {\n        // else do all magic\n        const key = path[0];\n        let pathStr; // needed for undelegation\n\n        if (path.length > 1) {\n            path = path.slice(1);\n            pathStr = path.join('.');\n        } else {\n            path = [];\n            pathStr = path[0] || '';\n        }\n\n        const delegatedData = {\n            path,\n            name,\n            callback,\n            context,\n            info,\n            object\n        };\n\n        if (key === '*') {\n            // handling asterisk events\n            // { skipChecks: true } allows to use same event name and event handler few times\n            if (object.isSeempleArray) {\n                // the event is triggered when something is added to an array\n                addListener(object, '_asterisk:add', arrayAddHandler, null, {\n                    delegatedData,\n                    pathStr,\n                    skipChecks: true\n                });\n\n                // the event is triggered when something is removed from an array\n                addListener(object, '_asterisk:remove', arrayRemoveHandler, null, {\n                    delegatedData,\n                    pathStr,\n                    skipChecks: true\n                });\n\n                // call handler manually to delegate listener for currently existing data props\n                arrayAddHandler({\n                    added: object\n                }, delegatedData);\n            } else if (object.isSeempleObject) {\n                const def = defs.get(object);\n\n                // the event is triggered when data prop is changed\n                addListener(object, '_asterisk:set', objectSetHandler, null, {\n                    delegatedData,\n                    pathStr,\n                    skipChecks: true\n                });\n\n                // the event is triggered when data prop is removed\n                addListener(object, '_asterisk:remove', objectRemoveHandler, null, {\n                    delegatedData,\n                    pathStr,\n                    skipChecks: true\n                });\n\n                // delegate listener for currently existing data props\n                forOwn(def.keys, (_, defKey) => {\n                    const item = object[defKey];\n                    if (item && typeof item === 'object') {\n                        delegateListener(item, path, name, callback, context, info);\n                    }\n                });\n            }\n        } else {\n            // handling non-asterisk delegated event\n\n            // the event is triggered by \"set\"\n            addListener(object, `_change:delegated:${key}`, changeHandler, null, {\n                delegatedData,\n                pathStr\n            });\n\n            // call handler manually\n            changeHandler({\n                value: object[key]\n            }, delegatedData);\n        }\n    }\n}\n","import forOwn from './forown';\n\n// Object.assign polyfyll\n/* istanbul ignore next */\nconst assign = Object.assign || function assign(target) {\n    /* istanbul ignore next */\n    if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    const output = Object(target);\n\n    for (let index = 1; index < arguments.length; index++) {\n        const source = arguments[index];\n        if (source !== undefined && source !== null) {\n            forOwn(source, (nextValue, nextKey) => {\n                output[nextKey] = nextValue;\n            });\n        }\n    }\n\n    return output;\n};\n\nexport default assign;\n","import defs from './defs';\n\nlet objectId = 0;\n\n// this is common function which associates an object with its Seemple definition\nexport default function initSeemple(object) {\n    let def = defs.get(object);\n    if (!def) {\n        def = {\n            // a property name of \"events\" object is an event name\n            // and a value is an array of event handlers\n            events: {\n                /* example: {\n                    callback: function,\n                    ctx: object,\n                    context: object2,\n                    name: \"example\",\n                    info: { ...extra data for an event... }\n                } */\n            },\n            // \"props\" contains special information about properties (getters, setters etc)\n            props: {\n                /* example: {\n                    value: object[key],\n                    mediator: null,\n                    bindings: [{\n                        node,\n                        binder,\n                        nodeHandler,\n                        objectHandler,\n                        ...other required info\n                    }]\n                } */\n            },\n            id: objectId\n        };\n\n        objectId += 1;\n\n        defs.set(object, def);\n\n        if (object._afterInit) {\n            object._afterInit(def);\n        }\n    }\n\n    return def;\n}\n","import defs from './defs';\nimport set from '../set';\nimport seempleError from '../_helpers/seempleerror';\n\nfunction errorAccessor() {\n    throw seempleError('common:use_magic_props');\n}\n\n// the function defines needed descriptor for given property\nexport default function defineProp(object, key, noAccessor) {\n    const def = defs.get(object);\n\n    // if no object definition do nothing\n    if (!def) {\n        return null;\n    }\n\n    if (!def.props[key]) {\n        const propDef = def.props[key] = {\n            value: object[key],\n            mediator: null,\n            bindings: null\n        };\n        let getter;\n        let setter;\n\n        // make possible to throw an error on get and on set if sandbox (for all objects)\n        // or container (for Seemple.Array instances) are used\n        if (key === 'sandbox' || (object.isSeempleArray && key === 'container')) {\n            getter = setter = errorAccessor;\n        }\n\n        if (!noAccessor) {\n            Object.defineProperty(object, key, {\n                configurable: true,\n                enumerable: true,\n                get() {\n                    return getter ? getter() : propDef.value;\n                },\n                set(v) {\n                    return setter ? setter() : set(object, key, v, {\n                        fromSetter: true\n                    });\n                }\n            });\n        }\n    }\n\n    return def.props[key];\n}\n","// the regexp allows to parse things like \"click::x(.y)\"\n// it's shared between few modules\nexport default /([^::]+)::([^()]+)?(?:\\((.*)\\))?/;\n","import splitBySpaceReg from './_splitbyspaceregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport seempleError from '../_helpers/seempleerror';\nimport forOwn from '../_helpers/forown';\nimport forEach from '../_helpers/foreach';\nimport addListener from './_addlistener';\nimport delegateListener from './_delegatelistener';\n\n// adds event listener\nexport default function on(object, givenNames, callback, triggerOnInit, context) {\n    if (typeof this === 'object' && this.isSeemple) {\n        // when context is Seemple instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        context = triggerOnInit;\n        triggerOnInit = callback;\n        callback = givenNames;\n        givenNames = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'on');\n    }\n\n    const isNamesVarArray = givenNames instanceof Array;\n\n    // allow to pass name-handler object\n    if (givenNames && typeof givenNames === 'object' && !isNamesVarArray) {\n        forOwn(givenNames, (namesObjCallback, namesObjName) => on(\n            object, namesObjName, namesObjCallback, callback, triggerOnInit\n        ));\n        return object;\n    }\n\n    if (typeof givenNames !== 'string' && !isNamesVarArray) {\n        throw seempleError('on:names_type', { names: givenNames });\n    }\n\n    // split by spaces\n    // TODO: Array of names passed to on method is non-documented feature\n    const names = isNamesVarArray ? givenNames : givenNames.split(splitBySpaceReg);\n\n    // flip triggerOnInit and context when triggerOnInit is not boolean\n    if (typeof triggerOnInit !== 'boolean' && typeof triggerOnInit !== 'undefined') {\n        // eslint-disable-next-line no-param-reassign\n        [context, triggerOnInit] = [triggerOnInit, context];\n    }\n\n    forEach(names, (name) => {\n        const delegatedEventParts = name.split('@');\n\n        if (delegatedEventParts.length > 1) {\n            // if @ exists in event name then this is delegated event\n            const [path, delegatedName] = delegatedEventParts;\n            delegateListener(object, path, delegatedName, callback, context || object);\n        } else {\n            // if not, this is simple event\n            addListener(object, name, callback, context);\n        }\n    });\n\n    // call callback immediatelly if triggerOnInit is true\n    if (triggerOnInit === true) {\n        callback.call(context || object, { triggerOnInit });\n    }\n\n    return object;\n}\n","import defs from '../_core/defs';\nimport triggerOne from '../trigger/_triggerone';\nimport domEventReg from '../on/_domeventregexp';\nimport forEach from '../_helpers/foreach';\nimport forOwn from '../_helpers/forown';\n\n// removes simple event listener from an object\nexport default function removeListener(object, name, callback, context, info) {\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return false;\n    }\n\n    const { events: allEvents } = def;\n    const events = allEvents[name];\n    const retain = [];\n    const noTrigger = name ? name[0] === '_' : false;\n    const domEventExecResult = domEventReg.exec(name);\n\n    if (domEventExecResult) {\n        const [, eventName, key = 'sandbox', selector] = domEventExecResult;\n        // fixing circular reference issue\n        const removeDomListener = require('./_removedomlistener').default;\n\n        removeDomListener(object, key, eventName, selector, callback, context, info);\n\n        return true;\n    }\n\n    // if all events need to be removed\n    if (typeof name === 'undefined') {\n        if (!noTrigger) {\n            forOwn(allEvents, (allEventsItem, allEventsName) => {\n                forEach(allEventsItem, (event) => {\n                    const removeEventData = {\n                        allEventsName,\n                        callback: event.callback,\n                        context: event.context\n                    };\n\n                    triggerOne(object, `removeevent:${name}`, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                });\n            });\n        }\n\n        // restore default value of \"events\"\n        def.events = {};\n    } else if (events) {\n        // if events with given name are found\n        forEach(events, (event) => {\n            const argCallback = (callback && callback._callback) || callback;\n            const eventCallback = event.callback._callback || event.callback;\n\n            if ((argCallback && argCallback !== eventCallback)\n                || (context && context !== event.context)) {\n                // keep event\n                retain.push(event);\n            } else {\n                const removeEventData = {\n                    name,\n                    callback: event.callback,\n                    context: event.context\n                };\n\n                if (!noTrigger) {\n                    triggerOne(object, `removeevent:${name}`, removeEventData);\n                    triggerOne(object, 'removeevent', removeEventData);\n                }\n            }\n        });\n\n        if (retain.length) {\n            allEvents[name] = retain;\n        } else {\n            delete def.events[name];\n        }\n    }\n\n    return false;\n}\n","// converts HTML string to NodeList instance\nexport default function html2nodeList(givenHTML) {\n    // wrapMap is taken from jQuery\n    const wrapMap = {\n        option: [1, '<select multiple=\"multiple\">', '</select>'],\n        legend: [1, '<fieldset>', '</fieldset>'],\n        thead: [1, '<table>', '</table>'],\n        tr: [2, '<table><tbody>', '</tbody></table>'],\n        td: [3, '<table><tbody><tr>', '</tr></tbody></table>'],\n        col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n        area: [1, '<map>', '</map>'],\n        _: [0, '', '']\n    };\n\n    const html = givenHTML.replace(/^\\s+|\\s+$/g, '');\n    let node = window.document.createElement('div');\n    let i;\n\n    wrapMap.optgroup = wrapMap.option;\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n    const ex = /<([\\w:]+)/.exec(html);\n    const wrapper = (ex && wrapMap[ex[1]]) || wrapMap._;\n\n    node.innerHTML = wrapper[1] + html + wrapper[2];\n\n    i = wrapper[0];\n\n    while (i) {\n        i -= 1;\n        node = node.children[0];\n    }\n\n    return node.childNodes;\n}\n","import html2nodeList from './_html2nodelist';\n\nconst win = window;\n\n// function-constructor of mq library\n// accepts many kinds of arguments (selector, html, function)\nfunction MQInit(selector, context) {\n    let result;\n\n    if (selector) {\n        if (selector.nodeType || (typeof win === 'object' && selector === win)) {\n            result = [selector];\n        } else if (typeof selector === 'string') {\n            if (/</.test(selector)) {\n                result = html2nodeList(selector);\n            } else if (context) {\n                const newContext = (new MQInit(context))[0];\n\n                if (newContext) {\n                    result = newContext.querySelectorAll(selector);\n                }\n            } else {\n                result = win.document.querySelectorAll(selector);\n            }\n        } else if ('length' in selector) {\n            // if it's something array-like (eg NodeList)\n            result = selector;\n        } else {\n            // this is somethong another (eg Attr)\n            result = [selector];\n        }\n    }\n\n    const length = result && result.length;\n\n    if (length) {\n        for (let i = 0; i < length; i++) {\n            this.push(result[i]);\n        }\n    }\n\n    return this;\n}\n\nMQInit.prototype = [];\n\nexport default MQInit;\n","// an object allows to share data between modules; it's needed because we use\n// simplified ES modules there and cannot import and share a number\nexport default {\n    nodeIndex: 0,\n    allEvents: {}\n};\n","import data from './_data';\n\nconst splitBySpaceReg = /\\s+/;\nconst splitByDotReg = /\\.(.+)/;\nconst randomID = `${Math.random().toString().replace('0.', 'x')}y`; // x12345y\n\n// checks an element against a selector\nfunction is(node, selector) {\n    return (node.matches\n            || node.webkitMatchesSelector\n            || node.mozMatchesSelector\n            || node.msMatchesSelector\n            || node.oMatchesSelector).call(node, selector);\n}\n\n// the function is used when a selector is given\nfunction delegateHandler(evt, selector, handler) {\n    const scopeSelector = `[${randomID}=\"${randomID}\"] `;\n    const splittedSelector = selector.split(',');\n\n    let matching = '';\n\n    for (let i = 0; i < splittedSelector.length; i++) {\n        const sel = splittedSelector[i];\n        matching += `${i === 0 ? '' : ','}${scopeSelector}${sel},${scopeSelector}${sel} *`;\n    }\n\n\n    this.setAttribute(randomID, randomID);\n\n    if (is(evt.target, matching)) {\n        handler.call(this, evt);\n    }\n\n    this.removeAttribute(randomID);\n}\n\n// adds event listener to a set of elemnts\nexport default function on(namesStr, selector, handler) {\n    const names = namesStr.split(splitBySpaceReg);\n    let delegate;\n\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    if (selector) {\n        delegate = function uniqueDelegateHandler(evt) {\n            delegateHandler.call(this, evt, selector, handler);\n        };\n    }\n\n    for (let i = 0; i < names.length; i++) {\n        const [name, namespace] = names[i].split(splitByDotReg);\n\n        for (let j = 0; j < this.length; j++) {\n            const node = this[j];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            const events = data.allEvents[name + nodeID] = data.allEvents[name + nodeID] || [];\n\n            let exist = false;\n\n            for (let k = 0; k < events.length; k++) {\n                const event = events[k];\n\n                if (handler === event.handler && (!selector || selector === event.selector)) {\n                    exist = true;\n                    break;\n                }\n            }\n\n            if (!exist) {\n                events.push({\n                    delegate,\n                    handler,\n                    namespace,\n                    selector,\n                    nodeID,\n                    name\n                });\n\n                node.addEventListener(name, delegate || handler, false);\n            }\n        }\n    }\n\n    return this;\n}\n","import data from './_data';\n\nconst splitBySpaceReg = /\\s+/;\nconst splitByDotReg = /\\.(.+)/;\n\n// removes event handler from a set of elements\nexport default function off(namesStr, selector, handler) {\n    if (typeof selector === 'function') {\n        handler = selector; // eslint-disable-line no-param-reassign\n        selector = null; // eslint-disable-line no-param-reassign\n    }\n\n    const names = namesStr.split(splitBySpaceReg);\n\n    for (let i = 0; i < names.length; i++) {\n        const [name, namespace] = names[i].split(splitByDotReg);\n\n        for (let j = 0; j < this.length; j++) {\n            const node = this[j];\n\n            if (!name && namespace) {\n                for (let k = 0, keys = Object.keys(data.allEvents); k < keys.length; k++) {\n                    const events = data.allEvents[keys[k]];\n\n                    for (let l = 0; l < events.length; l++) {\n                        const event = events[i];\n                        if (event.namespace === namespace && event.nodeID === node.b$) {\n                            node.removeEventListener(event.name, event.delegate || event.handler);\n                            events.splice(l, 1);\n                            l -= 1;\n                        }\n                    }\n                }\n\n                continue;\n            }\n\n            const events = data.allEvents[name + node.b$];\n            if (events) {\n                for (let k = 0; k < events.length; k++) {\n                    const event = events[k];\n                    if (\n                        (!handler || handler === event.handler || handler === event.delegate)\n                        && (!namespace || namespace === event.namespace)\n                        && (!selector || selector === event.selector)\n                    ) {\n                        node.removeEventListener(name, event.delegate || event.handler);\n                        events.splice(k, 1);\n                        k -= 1;\n                    }\n                }\n            } else if (!namespace && !selector) {\n                node.removeEventListener(name, handler);\n            }\n        }\n    }\n\n    return this;\n}\n","import Init from './_init';\nimport parseHTML from './parsehtml';\nimport on from './on';\nimport off from './off';\nimport add from './add';\nimport assign from '../../_helpers/assign';\n\n// tiny jQuery replacement for Seemple\nexport default function mq(selector, context) {\n    return new Init(selector, context);\n}\n\nmq.parseHTML = parseHTML;\n\nassign(Init.prototype, {\n    on,\n    off,\n    add\n});\n","import html2nodeList from './_html2nodelist';\nimport Init from './_init';\n\n// parses given HTML and returns mq instance\nexport default function parseHTML(html) {\n    return new Init(html2nodeList(html));\n}\n","import Init from './_init';\nimport data from './_data';\n\n// adds unique nodes to mq collection\nexport default function add(selector) {\n    const idMap = {};\n\n    let result;\n\n    const nodes = new Init(selector);\n\n    if (this.length) {\n        result = new Init();\n        for (let i = 0; i < this.length; i++) {\n            const node = this[i];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            idMap[nodeID] = 1;\n            result.push(node);\n        }\n\n        for (let i = 0; i < nodes.length; i++) {\n            const node = nodes[i];\n            const nodeID = node.b$ = node.b$ || ++data.nodeIndex; // eslint-disable-line no-plusplus\n            if (!idMap[nodeID]) {\n                idMap[nodeID] = 1;\n                result.push(node);\n            }\n        }\n    } else {\n        result = nodes;\n    }\n\n    return result;\n}\n","/* global $ */\nimport mq from './mq';\n\n// check existence of needed methods in $ global variable\n// to use it for internal needs\n\nconst neededMethods = ['on', 'off', 'add'];\n\nconst globalDollar = typeof $ === 'function' ? $ : null;\nlet useGlobalDollar = true;\n\n/* istanbul ignore if */\nif (globalDollar) {\n    const fn = globalDollar.fn || globalDollar.prototype;\n    for (let i = 0; i < neededMethods.length; i++) {\n        if (!fn[neededMethods[i]]) {\n            useGlobalDollar = false;\n            break;\n        }\n    }\n\n    if (!globalDollar.parseHTML) {\n        // Zepto doesn't include its own parseHTML\n        // TODO: Assignment of parseHTML is side effect\n        globalDollar.parseHTML = mq.parseHTML;\n    }\n} else {\n    useGlobalDollar = false;\n}\n\nexport default useGlobalDollar ? globalDollar : mq;\n","import $ from './default-dollar';\n\nexport default { $ };\n","import apply from './apply';\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds.\n// (c) https://davidwalsh.name/javascript-debounce-function\n\nexport default function debounce(func, givenDelay, thisArg) {\n    let timeout;\n    let delay;\n    if (typeof givenDelay !== 'number') {\n        thisArg = givenDelay; // eslint-disable-line no-param-reassign\n        delay = 0;\n    } else {\n        delay = givenDelay || 0;\n    }\n\n    return function debounced() {\n        const args = arguments;\n        const callContext = thisArg || this;\n\n        clearTimeout(timeout);\n\n        timeout = setTimeout(() => apply(func, callContext, args), delay);\n    };\n}\n","// allows to split by spaces not inclusing ones inside of brackers\nexport default /\\s+(?![^(]*\\))/g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import calc from 'seemple/calc';\nimport on from 'seemple/on';\nimport onDebounce from 'seemple/ondebounce';\nimport trigger from 'seemple/trigger';\nimport set from 'seemple/set';\n\nfunction handleHashChange(router) {\n    set(router, 'hashPath', window.location.hash, {\n        hashEvent: true\n    });\n}\n\nfunction handlePopStateChange(router) {\n    set(router, 'path', window.location.pathname, {\n        popEvent: true\n    });\n}\n\nclass Router {\n    parts = [];\n    path = '/';\n    hashPath = '!#/';\n\n    constructor(type) {\n        // singletone pattern for history and hash router\n        /* istanbul ignore if */\n        if (type in Router) {\n            return Router[type];\n        }\n\n        this.type = type;\n\n        return this;\n    }\n\n\n    init() {\n        if (this.initialized) {\n            return this;\n        }\n\n        const { type } = this;\n\n        calc(this, {\n            parts: {\n                source: 'path',\n                handler(path) {\n                    const fixed = path.replace(/\\/\\//g, '/')\n                        .replace(/^\\/|\\/$/g, '');\n\n                    return fixed ? fixed.split('/') : [];\n                }\n            },\n            path: {\n                source: 'parts',\n                handler(parts) {\n                    const nonEmptyParts = [];\n\n                    for (let i = 0; i < parts.length; i++) {\n                        if (parts[i]) {\n                            nonEmptyParts.push(parts[i]);\n                        } else {\n                            break;\n                        }\n                    }\n\n                    return nonEmptyParts.length ? (`/${nonEmptyParts.join('/')}/`) : '/';\n                }\n            }\n        }, { debounceCalc: false });\n\n        calc(this, {\n            hashPath: {\n                source: 'path',\n                handler(path) {\n                    return path && path !== '/' ? `#!${path}` : '';\n                }\n            },\n            path: {\n                source: 'hashPath',\n                handler(hashPath) {\n                    return hashPath ? hashPath.replace(/^#!/, '') : '';\n                }\n            }\n        }, { debounceCalc: false });\n\n        on(this, 'change:parts', (evt) => {\n            const { value, previousValue } = evt;\n            let equals = value.length === previousValue.length;\n\n            if (equals) {\n                for (let i = 0; i < value.length; i++) {\n                    if (value[i] !== previousValue[i]) {\n                        equals = false;\n                        break;\n                    }\n                }\n            }\n\n            if (!equals) {\n                trigger(this, 'pathchange');\n            }\n        });\n\n        if (typeof window !== 'undefined') {\n            const { history, location } = window;\n\n            if (type === 'hash') {\n                handleHashChange(this);\n\n                window.addEventListener('hashchange', () => handleHashChange(this));\n\n                onDebounce(this, 'change:hashPath', (evt) => {\n                    if (!evt || !evt.hashEvent) {\n                        location.hash = this.hashPath;\n                    }\n                }, true);\n            } else if (type === 'history') {\n                handlePopStateChange(this);\n\n                window.addEventListener('popstate', (evt) => {\n                    if (evt.state && evt.state.validPush) {\n                        handlePopStateChange(this);\n                    }\n                });\n\n                onDebounce(this, 'change:path', (evt) => {\n                    if (!evt || !evt.popEvent) {\n                        history.pushState({\n                            validPush: true\n                        }, '', this.path + location.hash);\n                    }\n                }, true);\n            }\n        }\n\n        this.initialized = true;\n\n        return this;\n    }\n\n    subscribe(obj, route) {\n        const keys = route.replace(/\\/\\//g, '/').replace(/^\\/|\\/$/g, '').split('/');\n        const changeEvents = [];\n        const filteredKeys = keys.filter(key => key !== '*');\n        const parts = [];\n\n        this.init();\n\n        for (let i = 0; i < filteredKeys.length; i++) {\n            const key = filteredKeys[i];\n            changeEvents.push(`change:${key}`);\n        }\n\n        on(obj, changeEvents, (evt) => {\n            if (evt && evt.routeSilent) {\n                return;\n            }\n\n            const values = [];\n\n            for (let i = 0; i < keys.length; i++) {\n                const value = keys[i] === '*' ? this.parts[i] : obj[keys[i]];\n\n                if (value) {\n                    values.push(value);\n                } else {\n                    break;\n                }\n            }\n\n            this.parts = values;\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            parts.push(obj[keys[i]] === '*' ? this.parts[i] : obj[keys[i]] || this.parts[i]);\n        }\n\n        for (let i = 0; i < keys.length; i++) {\n            if (typeof obj[keys[i]] === 'undefined' && this.parts[i] && keys[i] !== '*') {\n                set(obj, keys[i], this.parts[i], {\n                    routeSilent: true\n                });\n            }\n        }\n\n        on(this, 'pathchange', () => {\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] !== '*') {\n                    set(obj, keys[i], this.parts[i] || null, {\n                        routeSilent: true\n                    });\n                }\n            }\n        });\n\n        this.parts = parts;\n\n        return this;\n    }\n}\n\nRouter.history = new Router('history');\nRouter.hash = new Router('hash');\n\nmodule.exports = Router;\n","import on from './on';\nimport checkObjectType from './_helpers/checkobjecttype';\nimport debounce from './_helpers/debounce';\nimport forOwn from './_helpers/forown';\n\n// adds debounced event listener\nexport default function onDebounce(\n    object,\n    names,\n    givenCallback,\n    givenDelay,\n    triggerOnInit,\n    context\n) {\n    if (typeof this === 'object' && this.isSeemple) {\n        // when context is Seemple instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        context = triggerOnInit;\n        triggerOnInit = givenDelay;\n        givenDelay = givenCallback;\n        givenCallback = names;\n        names = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'onDebounce');\n    }\n\n    const isNamesVarArray = names instanceof Array;\n\n    // allow to pass name-handler object\n    if (names && typeof names === 'object' && !isNamesVarArray) {\n        forOwn(names, (namesObjCallback, namesObjName) => onDebounce(\n            object,\n            namesObjName,\n            namesObjCallback,\n            givenCallback,\n            givenDelay,\n            triggerOnInit\n        ));\n\n        return object;\n    }\n\n    const delay = typeof givenDelay === 'number' ? givenDelay : 0;\n\n    const callback = debounce(givenCallback, delay);\n\n    // allow to remove event listener py passing original callback to \"off\"\n    callback._callback = givenCallback;\n\n    return on(object, names, callback, triggerOnInit, context);\n}\n","import delegateListener from './_delegatelistener';\nimport removeTreeListener from '../off/_removetreelistener';\n\n// creates tree listener\nfunction createTreeListener({ handler, restPath }) {\n    const newHandler = function treeListener(changeEvent) {\n        const extendedChangeEvent = {\n            restPath,\n            ...changeEvent\n        };\n        const { previousValue, value } = changeEvent;\n\n        // removes listener for all branches of the path on old object\n        if (previousValue && typeof previousValue === 'object') {\n            removeTreeListener(previousValue, restPath, handler);\n        }\n\n        // adds listener for all branches of \"restPath\" path on newly assigned object\n        if (value && typeof value === 'object') {\n            addTreeListener(value, restPath, handler);\n        }\n\n        // call original handler\n        handler.call(this, extendedChangeEvent);\n    };\n\n    newHandler._callback = handler;\n\n    return newHandler;\n}\n\n// listens changes for all branches of given path\n// TODO: Pass context to addTreeListener\n// one of the most hard functions to understand\nexport default function addTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over all keys and delegate listener for all objects of given branch\n    for (let i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice method is slow\n        const listenPath = deepPath.slice(0, i);\n        const restPath = deepPath.slice(i + 1);\n\n        delegateListener(\n            object,\n            listenPath,\n            `_change:tree:${deepPath[i]}`,\n            createTreeListener({\n                handler,\n                restPath\n            })\n        );\n    }\n}\n","import undelegateListener from './_undelegatelistener';\n\n// removes tree listener from all object tree of fiven path\n// TODO: Pass context to removeTreeListener\nexport default function removeTreeListener(object, deepPath, handler) {\n    if (typeof deepPath === 'string') {\n        deepPath = deepPath.split('.'); // eslint-disable-line no-param-reassign\n    }\n\n    // iterate over keys of the path and undelegate given handler (can be undefined)\n    for (let i = 0; i < deepPath.length; i++) {\n        // TODO: Array.prototype.slice is slow\n        const listenedPath = deepPath.slice(0, i);\n\n        undelegateListener(\n            object,\n            listenedPath,\n            `_change:tree:${deepPath[i]}`,\n            handler\n        );\n    }\n}\n","import addListener from '../on/_addlistener';\nimport addTreeListener from '../on/_addtreelistener';\nimport seempleError from '../_helpers/seempleerror';\n\n// adds a source to a source list and adds needed event listener to a it\nexport default function addSource({\n    calcHandler,\n    allSources,\n    sourceKey,\n    sourceObject,\n    eventOptions\n}) {\n    let { exactKey = false } = eventOptions;\n    let isDelegated = false;\n\n    // source key must be a string\n    if (typeof sourceKey !== 'string') {\n        throw seempleError('calc:source_key_type', { sourceKey });\n    }\n\n    // source object must be an object\n    if (!sourceObject || typeof sourceObject !== 'object') {\n        throw seempleError('calc:source_object_type', { sourceObject });\n    }\n\n    if (!exactKey) {\n        const deepPath = sourceKey.split('.');\n\n        // if something like a.b.c is used as a key\n        if (deepPath.length > 1) {\n            isDelegated = true;\n            // TODO: Avoid collisions with bindings by using another event name\n            // ... instead of _change:tree:xxx\n            addTreeListener(sourceObject, deepPath, calcHandler);\n        } else {\n            exactKey = true;\n        }\n    }\n\n\n    if (exactKey) {\n        // normal handler\n        addListener(sourceObject, `_change:deps:${sourceKey}`, calcHandler);\n    }\n\n    allSources.push({\n        sourceKey,\n        sourceObject,\n        isDelegated\n    });\n}\n","// gets value of a property in nested object\n// eg \"d\" from a.b.c.d\nexport default function deepFind(obj, givenPath) {\n    const paths = typeof givenPath === 'string' ? givenPath.split('.') : givenPath;\n    let current = obj;\n\n    for (let i = 0; i < paths.length; ++i) {\n        if (typeof current[paths[i]] === 'undefined') {\n            return undefined;\n        }\n\n        current = current[paths[i]];\n    }\n\n    return current;\n}\n","import initSeemple from '../_core/init';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport seempleError from '../_helpers/seempleerror';\nimport assign from '../_helpers/assign';\nimport debounce from '../_helpers/debounce';\nimport forEach from '../_helpers/foreach';\nimport forOwn from '../_helpers/forown';\nimport addSource from './_addsource';\nimport createCalcHandler from './_createcalchandler';\nimport defineProp from '../_core/defineprop';\n\n// defines a property which is dependend on other properties\nexport default function calc(object, target, sources, givenHandler, eventOptions) {\n    if (typeof this === 'object' && this.isSeemple) {\n        // when context is Seemple instance, use this as an object and shift other args\n        /* eslint-disable no-param-reassign */\n        eventOptions = givenHandler;\n        givenHandler = sources;\n        sources = target;\n        target = object;\n        object = this;\n        /* eslint-enable no-param-reassign */\n    } else {\n        // throw error when object type is wrong\n        checkObjectType(object, 'calc');\n    }\n\n    if (target instanceof Object) {\n        /*\n         * accept an object\n         * this.calc({target: { source, handler, event } }, commonEventOptions);\n         */\n        forOwn(target, ({\n            source: itemSource,\n            handler: itemHandler,\n            event: itemEventOptions\n        }, itemTarget) => {\n            const commonEventOptions = sources;\n            const mergedEventOptions = {};\n\n            if (commonEventOptions) {\n                // extend event object by \"global\" event\n                assign(mergedEventOptions, commonEventOptions);\n            }\n\n            if (itemEventOptions) {\n                // extend event object by \"local\" event (\"event\" key of an object)\n                assign(mergedEventOptions, itemEventOptions);\n            }\n\n            calc(object, itemTarget, itemSource, itemHandler, mergedEventOptions);\n        });\n\n        return object;\n    }\n\n    if (typeof target !== 'string') {\n        throw seempleError('calc:target_type', { target });\n    }\n\n    eventOptions = eventOptions || {}; // eslint-disable-line no-param-reassign\n    const def = initSeemple(object);\n    const {\n        setOnInit = true,\n        debounceCalcOnInit = false,\n        debounceCalc = true,\n        debounceCalcDelay = 0,\n        // the next option is used to hide a property for internal use (eg in bindings parser)\n        // hidden property means no accessors\n        isTargetPropertyHidden = false\n    } = eventOptions;\n    const defaultHandler = value => value;\n    const handler = givenHandler || defaultHandler;\n    const allSources = [];\n    const syncCalcHandler = createCalcHandler({\n        object,\n        eventOptions,\n        allSources,\n        target,\n        def,\n        handler\n    });\n\n    let debouncedCalcHandler;\n    let calcHandler;\n\n    if (debounceCalcOnInit || debounceCalc) {\n        debouncedCalcHandler = debounce(syncCalcHandler, debounceCalcDelay);\n    }\n\n    defineProp(object, target, isTargetPropertyHidden);\n\n    if (!(sources instanceof Array)) {\n        sources = [sources]; // eslint-disable-line no-param-reassign\n    }\n\n    if (debounceCalc) {\n        calcHandler = debouncedCalcHandler;\n    } else {\n        calcHandler = syncCalcHandler;\n    }\n\n    forEach(sources, (source) => {\n        if (typeof source === 'string') {\n            // source object is current object\n            addSource({\n                calcHandler,\n                allSources,\n                sourceKey: source,\n                sourceObject: object,\n                eventOptions\n            });\n        } else {\n            // source object is external object\n            if (!source || typeof source !== 'object') {\n                throw seempleError('calc:source_type', { source });\n            }\n\n            const sourceKey = source.key;\n            const sourceObject = source.object;\n            if (sourceKey instanceof Array) {\n                // many keys are passed\n                forEach(sourceKey, (sourceKeyItem) => {\n                    addSource({\n                        calcHandler,\n                        allSources,\n                        sourceKey: sourceKeyItem,\n                        sourceObject,\n                        eventOptions\n                    });\n                });\n            } else {\n                // one key is passed\n                addSource({\n                    calcHandler,\n                    allSources,\n                    sourceKey,\n                    sourceObject,\n                    eventOptions\n                });\n            }\n        }\n    });\n\n    if (setOnInit) {\n        if (debounceCalcOnInit) {\n            debouncedCalcHandler();\n        } else {\n            syncCalcHandler();\n        }\n    }\n\n    return object;\n}\n","import set from '../set';\nimport deepFind from '../_helpers/deepfind';\nimport forEach from '../_helpers/foreach';\nimport apply from '../_helpers/apply';\n\n// creates event handler for target object which will be fired when a source is changed\nexport default function createCalcHandler({\n    object,\n    eventOptions,\n    allSources,\n    target,\n    def,\n    handler\n}) {\n    return function calcHandler(changeEvent = {}) {\n        const values = [];\n        const { protector = {} } = changeEvent;\n        const protectKey = target + def.id;\n        const { promiseCalc } = eventOptions;\n        const setEventOptions = {\n            protector,\n            ...eventOptions,\n            ...changeEvent\n        };\n\n        if (protectKey in protector) {\n            return;\n        }\n\n        protector[protectKey] = true;\n\n        forEach(allSources, ({\n            sourceObject,\n            sourceKey,\n            isDelegated\n        }) => {\n            const value = isDelegated ? deepFind(sourceObject, sourceKey) : sourceObject[sourceKey];\n            values.push(value);\n        });\n\n        let targetValue = apply(handler, object, values);\n\n        if (promiseCalc) {\n            if (!(targetValue instanceof Promise)) {\n                targetValue = Promise.resolve(targetValue);\n            }\n\n            targetValue\n                .then(promiseResult => set(object, target, promiseResult, setEventOptions))\n                .catch((e) => {\n                    throw Error(e);\n                });\n        } else {\n            set(object, target, targetValue, setEventOptions);\n        }\n    };\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","// triggers given DOM event on given node\nexport default function triggerOneDOMEvent({\n    node,\n    eventName,\n    triggerArgs\n}) {\n    const { document, Event } = window;\n    let event;\n\n    // polyfill for older browsers\n    if (document.createEvent) {\n        /* istanbul ignore next */\n        event = document.createEvent('Event');\n        event.initEvent(eventName, true, true);\n    } else if (typeof Event !== 'undefined') {\n        event = new Event(eventName, {\n            bubbles: true,\n            cancelable: true\n        });\n    }\n\n    // seempleTriggerArgs will be used in a handler created by addDOMListener\n    event.seempleTriggerArgs = triggerArgs;\n\n    node.dispatchEvent(event);\n}\n","import triggerOneDOMEvent from './_triggeronedomevent';\nimport defs from '../_core/defs';\nimport forEach from '../_helpers/foreach';\n\n// triggers DOM event on bound nodes\nexport default function triggerDOMEvent(object, key, eventName, selector, triggerArgs) {\n    const def = defs.get(object);\n\n    if (!def) {\n        return;\n    }\n\n    const { props } = def;\n    const propDef = props[key];\n\n    if (!propDef) {\n        return;\n    }\n\n    const { bindings } = propDef;\n\n    if (!bindings) {\n        return;\n    }\n\n    forEach(bindings, ({ node }) => {\n        if (selector) {\n            // if selector is given trigger an event on all node descendants\n            const descendants = node.querySelectorAll(selector);\n            forEach(descendants, (descendant) => {\n                triggerOneDOMEvent({\n                    node: descendant,\n                    eventName,\n                    triggerArgs\n                });\n            });\n        } else {\n            // trigger an event for single node\n            triggerOneDOMEvent({\n                node,\n                eventName,\n                triggerArgs\n            });\n        }\n    });\n}\n","import domEventReg from '../on/_domeventregexp';\nimport checkObjectType from '../_helpers/checkobjecttype';\nimport seempleError from '../_helpers/seempleerror';\nimport forEach from '../_helpers/foreach';\nimport splitBySpaceReg from '../on/_splitbyspaceregexp';\nimport defs from '../_core/defs';\nimport triggerOne from './_triggerone';\nimport triggerDomEvent from './_triggerdomevent';\n\n// triggers an event\nexport default function trigger(...args) {\n    let object;\n    let givenNames;\n    let triggerArgs;\n\n    if (typeof this === 'object' && this.isSeemple) {\n        // when context is Seemple instance, use this as an object and shift other args\n        [givenNames, ...triggerArgs] = args;\n        object = this;\n    } else {\n        [object, givenNames, ...triggerArgs] = args;\n        // throw error when object type is wrong\n        checkObjectType(object, 'trigger');\n    }\n    let names;\n\n    // allow to use strings only as event name\n    if (typeof givenNames === 'string') {\n        names = givenNames.split(splitBySpaceReg);\n    } else {\n        throw seempleError('trigger:names_type', { names: givenNames });\n    }\n\n    const def = defs.get(object);\n\n    // if no definition do nothing\n    if (!def) {\n        return object;\n    }\n\n    const { events: allEvents } = def;\n\n    if (!allEvents) {\n        return object;\n    }\n\n    forEach(names, (name) => {\n        const domEvtExecResult = domEventReg.exec(name);\n\n        if (domEvtExecResult) {\n            // if EVT::KEY(SELECTOR) ia passed as event name then trigger DOM event\n            const [, eventName, key = 'sandbox', selector] = domEvtExecResult;\n            triggerDomEvent(object, key, eventName, selector, triggerArgs);\n        } else {\n            // trigger ordinary event\n            triggerOne(object, name, triggerArgs);\n        }\n    });\n\n    return object;\n}\n","/* globals Seemple */\n\nimport Router from './router';\n\nfunction initRouter(obj, route, type) {\n    Router[type || 'hash'].subscribe(obj, route);\n    return obj;\n}\n\n/* istanbul ignore if */\nif (typeof Seemple === 'function') {\n    Seemple.Router = Router;\n    Seemple.initRouter = initRouter;\n}\n\nmodule.exports = initRouter;\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","import defs from '../_core/defs';\nimport removeListener from './_removelistener';\nimport dom from '../_dom';\nimport forEach from '../_helpers/foreach';\n\n// removes dom listener from nodes bound to given key\nexport default function removeDomListener(\n    object,\n    key,\n    eventName,\n    selector,\n    callback,\n    context,\n    info\n) {\n    const def = defs.get(object);\n\n    if (!def) {\n        return object;\n    }\n\n    const { props } = def;\n    const propDef = props[key];\n\n    if (!propDef) {\n        return object;\n    }\n\n    const { bindings } = propDef;\n\n    if (bindings) {\n        // collect bound nodes and remove DOM event listener\n        const nodes = Array(bindings.length);\n        const eventNamespace = def.id + key;\n\n        forEach(bindings, (binding, index) => {\n            nodes[index] = binding.node;\n        });\n\n        dom.$(nodes).off(`${eventName}.${eventNamespace}`, selector, callback);\n    }\n\n    // remove bind and unbind listeners from given key\n    removeListener(object, `bind:${key}`, callback, context, info);\n    removeListener(object, `unbind:${key}`, callback, context, info);\n\n    return object;\n}\n","import initSeemple from '../_core/init';\nimport defineProp from '../_core/defineprop';\nimport addListener from './_addlistener';\nimport dom from '../_dom';\nimport createDomEventHandler from './_createdomeventhandler';\nimport forEach from '../_helpers/foreach';\n\n// returns an object with event handlers used at addDomListener\nfunction createBindingHandlers({\n    fullEventName,\n    domEventHandler,\n    selector\n}) {\n    return {\n        bindHandler(evt = {}) {\n            const { node } = evt;\n            if (node) {\n                dom.$(node).on(fullEventName, selector, domEventHandler);\n            }\n        },\n        unbindHandler(evt = {}) {\n            const { node } = evt;\n            if (node) {\n                dom.$(node).off(fullEventName, selector, domEventHandler);\n            }\n        }\n    };\n}\n\n// adds DOM event listener for nodes bound to given property\nexport default function addDomListener(object, key, eventName, selector, callback, context, info) {\n    const def = initSeemple(object);\n    const propDef = defineProp(object, key);\n\n    const domEventHandler = createDomEventHandler({\n        key,\n        object,\n        callback,\n        context: context || object\n    });\n\n    // making possible to remove this event listener\n    domEventHandler._callback = callback;\n\n    const eventNamespace = def.id + key;\n    const fullEventName = `${eventName}.${eventNamespace}`;\n    const { bindHandler, unbindHandler } = createBindingHandlers({\n        fullEventName,\n        domEventHandler,\n        selector\n    });\n    const addBindListenerResult = addListener(object, `bind:${key}`, bindHandler, context, info);\n    const addUnbindListenerResult = addListener(object, `unbind:${key}`, unbindHandler, context, info);\n\n    // if events are added successfully then run bindHandler for every node immediately\n    // TODO: Describe why do we need addBindListenerResult and addUnbindListenerResult\n    if (addBindListenerResult && addUnbindListenerResult) {\n        const { bindings } = propDef;\n        if (bindings) {\n            forEach(bindings, ({ node }) => bindHandler({ node }));\n        }\n    }\n\n    return object;\n}\n","import apply from '../_helpers/apply';\n// returns DOM event handler\nexport default function createDomEventHandler({\n    key,\n    object,\n    callback,\n    context\n}) {\n    return function domEventHandler(domEvent) {\n        const originalEvent = domEvent.originalEvent || domEvent;\n        // seempleTriggerArgs are created when DOM event is triggered by trigger method\n        const triggerArgs = originalEvent.seempleTriggerArgs;\n        const {\n            which, target, ctrlKey, altKey\n        } = domEvent;\n\n        if (triggerArgs) {\n            // if args are passed to trigger method then pass them to an event handler\n            apply(callback, context, triggerArgs);\n        } else {\n            // use the following object as an arg for event handler\n            callback.call(context, {\n                self: object,\n                node: this,\n                preventDefault: () => domEvent.preventDefault(),\n                stopPropagation: () => domEvent.stopPropagation(),\n                key,\n                domEvent,\n                originalEvent,\n                which,\n                target,\n                ctrlKey,\n                altKey\n            });\n        }\n    };\n}\n"],"sourceRoot":""}